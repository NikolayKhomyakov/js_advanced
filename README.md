# js_advanced

12_browser-events

## Задание 1

**Цель задания**

Попрактиковаться работать со всплытием и обходить использование stopPropagation.

**Что нужно сделать**

Сделайте блок, выпадающий вниз при нажатии на кнопку. Блок должен закрываться при нажатии в любом месте за его пределами. Для реализации нельзя использовать stopPropagation. Для разметки и стилей можете воспользоваться выпадающими блоками Bootstrap, но пользоваться их готовой реализацией JavaScript нельзя. Содержимое выпадающего блока не имеет значение, но любое нажатие мыши внутри этого блока не должно приводить к его закрытию.

_Рекомендации по выполнению_

Как уже обсуждалось на уроках модуля, stopPropagation хоть и поможет решить задачу, его использование может привести к проблемам в будущем. Поэтому стоит избегать его использования.
Для показа или скрытия блока достаточно устанавливать на нём стили display: block/none.
Проверка результата
При открытии блока любое нажатие мыши за его пределами приводит к его закрытию. При этом нажатие внутри блока ничего не делает.

_Что оценивается_

Задание выполнено без использования метода stopPropagation.

## Задание 2

**Цель задания**

Попрактиковаться обрабатывать события клавиатуры и валидацию полей для ввода.

**Что нужно сделать**

Сделайте форму с полями для ввода (input) имени, фамилии и отчества. В каждом поле допускается только ввод кириллицы в любом регистре, дефиса и пробела. При вводе с клавиатуры любая кнопка, не соответствующая допустимому символу, не должна приводить к вводу символа в поле. При этом не нужно отменять действия управляющих кнопок Backspace, Enter и прочих.
При потере фокуса (событие blur, происходит, когда пользователь убрал выделение с поля для ввода) должна происходить проверка на корректность введённого значения и замена его на корректное при необходимости по следующим правилам:
Из строки значения должны удаляться все символы, кроме допустимых.
Пробелы и дефисы в начале и конце значения должны удаляться.
Несколько идущих подряд пробелов или дефисов должны заменяться на один.
Первая буква должна приводиться к верхнему регистру, а все остальные — к нижнему.
Отправка формы должна добавлять абзац с введёнными фамилией, именем и отчеством под форму без перезагрузки страницы. Каждая отправка формы добавляет новый абзац на страницу. После отправки поля на форме должны очищаться.

_Рекомендации по выполнению_

Чтобы не терять время на вёрстку, для формы можете воспользоваться готовыми стилями Bootstrap.
Для фильтрации значения в поле можно воспользоваться циклом с проходом по каждому символу строки. Если очередной символ корректный, он добавляется в новую переменную с корректной строкой, которая после прохождения цикла заменит value у поля.
Проверка результата
В полях с клавиатуры вводятся только кириллица, дефис и пробел.
Если вставить в поле некорректное значение из буфера обмена, оно будет скорректировано при потере фокуса у поля.

_Критерии оценки_

Выполненное задание полностью соответствует требованиям.

## Задание 3

**Цель задания**

Узнать о пассивных обработчиках событий. Научиться работать с прокруткой.

**Что нужно сделать**

Создайте страницу с любым контентом на ваше усмотрение. Важно, чтобы высота страницы была больше окна браузера хотя бы в 2 раза. На странице разместите кнопку, по нажатию на которую должна происходить плавная прокрутка наверх. Кнопка должна быть видна только когда страница прокручена вниз хотя бы на 100 пикселей, в противном случае её нужно скрывать. Кнопка должна иметь фиксированное позиционирование и располагаться в правом нижнем углу экрана.

Для реагирования на прокрутку можете обрабатывать событие scroll на window. Получить позицию прокрутки по вертикали вы можете из свойства window.pageYOffset. При обработке события scroll важно передать третьим параметром метода addEventListener объект { passive: true }. Он сообщает браузеру, что обработчик события «пассивный», то есть не будет влиять на поведение браузера вызовом preventDefault. В некоторых случаях, в частности для события scroll, пассивные обработчики уменьшают потребление ресурсов компьютера.
Нажатие на кнопку должно приводить к плавной прокрутке страницы наверх. Сделать это можно с помощью метода window scrollTo: window.scrollTo({ top: 0, behavior: 'smooth' }).
Для тестирования можете создать HTML-документ с любым содержимым. Важно только, чтобы высота страницы была достаточной для прокрутки на вашем экране.

_Рекомендации по выполнению_

Для стилей кнопки можете воспользоваться Bootstrap или сверстать свой вариант.

_Проверка результата_

Кнопка «Наверх» показывается только при прокрутке >100 пикселей.
Нажатие кнопки «Наверх» плавно прокручивает страницу наверх.

_Критерии оценки_

Выполненное задание полностью соответствует требованиям.
